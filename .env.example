# ============================================
# FileCloud VPS Environment Configuration
# ============================================
# Copy this file to .env and update the values
# DO NOT commit .env to version control!
# ============================================

# ==========================================
# Domain & CDN
# ==========================================
# Your domain with HTTPS (used for generating URLs)
VPS_CDN_URL=https://yourdomain.com

# ==========================================
# Security Keys (CHANGE THESE!)
# ==========================================
# API key for storage operations (generate with: openssl rand -hex 32)
VPS_STORAGE_API_KEY=change-this-to-a-secure-random-string

# Owner API key for admin operations
VPS_OWNER_API_KEY=change-this-to-another-secure-string

# Secret for signing HLS streaming URLs
HLS_SIGNING_SECRET=change-this-signing-secret

# Callback key for thumbnail updates
VPS_CALLBACK_KEY=vps-thumbnail-callback-secret

# ==========================================
# Supabase Connection
# ==========================================
# Get these from your Supabase project settings
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# ==========================================
# Video Processing
# ==========================================
# Enable automatic video transcoding to HLS
AUTO_TRANSCODE=true

# Re-transcode videos on server startup (use sparingly)
AUTO_RETRANSCODE_ON_STARTUP=false

# Delay before starting transcode (ms)
TRANSCODE_DELAY_MS=30000

# ==========================================
# Thumbnail Generation
# ==========================================
# Generate thumbnails for images automatically
AUTO_IMAGE_THUMBNAIL=true

# Backfill thumbnails for existing files on startup
AUTO_THUMBNAIL_BACKFILL=false

# Enable thumbnail callback to update database
ENABLE_THUMBNAIL_CALLBACK=true

# ==========================================
# Streaming Security
# ==========================================
# Enable signed URLs for HLS streaming
ENABLE_SIGNED_URLS=true

# ==========================================
# Storage Paths (Docker internal)
# ==========================================
STORAGE_PATH=/app/storage
DATA_PATH=/app/data

# ==========================================
# Ports (Docker internal, don't change)
# ==========================================
PORT=3000
STORAGE_PORT=4000
